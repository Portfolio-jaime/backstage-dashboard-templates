# BA DevOps Dashboard Configuration
apiVersion: backstage.io/v1
kind: DashboardConfig
metadata:
  name: ba-devops-dashboard
  title: "BA DevOps Command Center"
  subtitle: "Development operations and deployment monitoring"
  version: "1.0.0"
  namespace: ba-devops
  annotations:
    backstage.io/managed-by-location: url:https://github.com/Portfolio-jaime/backstage-dashboard-templates/blob/main/templates/ba-devops-dashboard/config.yaml
    backstage.io/created-by: jaime.henao@ba.com
    backstage.io/last-updated: "2025-01-15T10:30:00Z"
    backstage.io/team: devops-team
  labels:
    team: devops-team
    department: engineering
    focus-area: deployment-operations

spec:
  # Team-specific information
  team:
    name: devops-team
    displayName: "DevOps Engineering Team"
    description: "Responsible for CI/CD, infrastructure automation, and deployment operations"
    lead: "jaime.henao@ba.com"
    members:
      - name: "Jaime Henao"
        role: "Senior DevOps Engineer"
        email: "jaime.henao@ba.com"
        expertise: ["Kubernetes", "Terraform", "CI/CD", "Monitoring"]
        status: "online"
        timezone: "COT (UTC-5)"
      - name: "DevOps Engineer 1"
        role: "DevOps Engineer"
        email: "devops1@ba.com"
        expertise: ["Docker", "Jenkins", "AWS", "GitOps"]
        status: "online"
        timezone: "GMT (UTC+0)"
      - name: "DevOps Engineer 2"
        role: "Cloud Engineer"
        email: "devops2@ba.com"
        expertise: ["Azure", "Infrastructure", "Security", "Automation"]
        status: "away"
        timezone: "EST (UTC-5)"
    responsibilities:
      - "CI/CD pipeline management"
      - "Infrastructure as Code (Terraform)"
      - "Kubernetes cluster operations"
      - "Monitoring and alerting setup"
      - "Deployment automation"
      - "Security and compliance"
    tools:
      - "Kubernetes"
      - "Terraform"
      - "Jenkins/GitHub Actions"
      - "Prometheus/Grafana"
      - "Docker"
      - "Helm"
    metrics:
      deploymentFrequency:
        value: "3-5 times per day"
        target: "Multiple daily"
        trend: "up"
        percentage: 85
        status: "excellent"
      leadTime:
        value: "45 minutes"
        target: "< 1 hour"
        trend: "stable"
        percentage: 92
        status: "excellent"
      mttr:
        value: "18 minutes"
        target: "< 30 minutes"
        trend: "down"
        percentage: 95
        status: "excellent"
      changeFailureRate:
        value: "2.3%"
        target: "< 5%"
        trend: "down"
        percentage: 88
        status: "good"
    slackChannel: "#devops-team"
    confluence: "https://ba.atlassian.net/wiki/spaces/DEVOPS"
    oncallRotation:
      current: "jaime.henao@ba.com"
      schedule: "Weekly rotation"

  widgets:
    # 游댠 Deployment Pipeline Status
    deploymentPipelines:
      enabled: true
      sources: ["GitHub Actions", "Jenkins"]
      environments: ["DEV", "STG", "PROD"]
      showLastDeployments: 5
      refreshInterval: 120000 # 2 minutes

    # 游늵 Infrastructure Health
    infrastructureHealth:
      enabled: true
      sources: ["Kubernetes", "AWS/Azure", "Monitoring"]
      showMetrics:
        - clusterStatus
        - nodeHealth
        - podStatus
        - resourceUtilization
      refreshInterval: 180000 # 3 minutes

    # 游댃 Environment Status Board
    environmentStatus:
      enabled: true
      environments:
        - name: "PROD1"
          status: "healthy"
          lastDeploy: "2 hours ago"
        - name: "STG1"
          status: "deploying"
          lastDeploy: "deploying now"
        - name: "DEV1"
          status: "healthy"
          lastDeploy: "30 minutes ago"
        - name: "UAT1"
          status: "warning"
          lastDeploy: "6 hours ago"
      refreshInterval: 120000 # 2 minutes

    # 游늶 Software Templates
    softwareTemplates:
      enabled: true
      showStats: true
      maxTemplates: 10
      refreshInterval: 300000 # 5 minutes

    github:
      enabled: true
      refreshInterval: 300000 # 5 minutes
      dynamicRepos: true
      owner: "Portfolio-jaime"
      teamFocus: "devops-team"
      filters:
        # DevOps Team specific repositories
        keywords: ["backstage", "devops", "infrastructure", "ci-cd", "pipeline", "deployment", "terraform", "ansible", "kubernetes", "k8s", "docker", "helm", "gitops", "argocd", "monitoring", "prometheus", "grafana", "jenkins", "github-actions", "automation", "platform", "sre", "ops"]
        topics: ["devops", "ci-cd", "kubernetes", "terraform", "infrastructure", "deployment", "automation", "monitoring", "gitops", "platform-engineering", "sre", "containerization", "pipeline", "backstage-plugin"]
        # Focus on DevOps team repositories
        repositories: [
          "backstage-app-devc",
          "backstage-dashboard-templates",
          "kubernetes-manifests",
          "terraform-infrastructure",
          "ci-cd-pipelines",
          "monitoring-stack",
          "gitops-config"
        ]
        exclude: ["archived", "private", "fork"]
        sortBy: "updated"
        maxRepos: 6
        teamOwner: "devops-team"
      maxEvents: 10
      apiConfig:
        usePublicApi: true
        rateLimit: 5000 # requests per hour
        teamContext: "devops-operations"
    
    catalog:
      enabled: true
      refreshInterval: 120000 # 2 minutes
      maxServices: 12
      title: "DevOps Team - Services & Infrastructure"
      teamFilter: "devops-team"
      filters:
        # DevOps Team owned entities
        kinds: ["Component", "API", "Resource", "System", "Domain"]
        types: ["service", "infrastructure", "tool", "pipeline", "deployment", "platform", "monitoring-stack"]
        tags: ["devops", "ci-cd", "deployment", "monitoring", "infrastructure", "platform", "sre", "automation", "gitops"]
        labels:
          - "devops.ba.com/managed"
          - "deployment.ba.com/active"
          - "team=devops-team"
          - "owner=devops-team"
        # Show entities owned by DevOps team members
        owners: [
          "jaime.henao@ba.com",
          "devops1@ba.com",
          "devops2@ba.com",
          "devops-team"
        ]
        # Focus on DevOps domains
        domains: ["infrastructure", "platform", "deployment", "monitoring"]
        # Exclude non-DevOps entities
        exclude:
          tags: ["frontend", "mobile", "business-logic", "user-facing"]
          types: ["website", "mobile-app"]
      displayOptions:
        showHealthMetrics: true
        showUptime: true
        showResponseTime: true
        showByCategory: true
        showOverview: true
        showOwnership: true
        groupByDomain: true
        showLastDeployed: true
        showPipelineStatus: true

    # TechDocs widget for DevOps team documentation
    techdocs:
      enabled: true
      refreshInterval: 300000 # 5 minutes
      title: "DevOps Team Documentation"
      teamFilter: "devops-team"
      filters:
        # DevOps specific documentation
        tags: ["devops", "infrastructure", "deployment", "ci-cd", "monitoring", "platform", "sre"]
        owners: [
          "jaime.henao@ba.com",
          "devops-team",
          "devops1@ba.com",
          "devops2@ba.com"
        ]
        categories: [
          "runbooks",
          "infrastructure",
          "deployment-guides",
          "monitoring",
          "troubleshooting",
          "platform-docs",
          "ci-cd-guides"
        ]
        exclude:
          categories: ["business-requirements", "user-guides", "marketing"]
          tags: ["frontend", "mobile", "business"]
      displayOptions:
        maxDocs: 8
        showLastUpdated: true
        showOwner: true
        showTags: true
        groupByCategory: true

    # Disable simulated/mock widgets for clean DevOps dashboard
    systemHealth:
      enabled: false
      reason: "Mock data - disabled for clean production dashboard"

    flightOps:
      enabled: false
      reason: "Not relevant for DevOps operations"

    costDashboard:
      enabled: false
      reason: "Mock data - disabled for clean production dashboard"

    security:
      enabled: false
      reason: "Mock data - disabled for clean production dashboard"

    # World clock disabled per user request
    worldClock:
      enabled: false
      reason: "Disabled per user request to clean up dashboard"
      timezones:
        # British Airways Operations Centers
        - name: "London HQ"
          timezone: "Europe/London"
          flag: "游섫릖"
          primary: true

        # South American Operations (per your requirements)
        - name: "Bogot치"
          timezone: "America/Bogota"
          flag: "游뻟릖"
        - name: "Santiago"
          timezone: "America/Santiago"
          flag: "游뻟릖"
        - name: "Buenos Aires"
          timezone: "America/Argentina/Buenos_Aires"
          flag: "游뷣릖"
        - name: "Montevideo"
          timezone: "America/Montevideo"
          flag: "游쥟릖"

        # Additional BA Operations
        - name: "New York"
          timezone: "America/New_York"
          flag: "游쥟릖"
        - name: "Dubai"
          timezone: "Asia/Dubai"
          flag: "游뷣릖"

  layout:
    grid:
      columns: 12
      spacing: 2
      responsive: true
    positions:
      search:
        xs: 12
        priority: 1
      welcome:
        xs: 12
        md: 6
        priority: 2
      teamInfo:
        xs: 12
        md: 6
        priority: 3
      github:
        xs: 12
        md: 6
        priority: 4
      catalog:
        xs: 12
        md: 6
        priority: 5
      quickActions:
        xs: 12
        priority: 6

  theme:
    # Tema por defecto
    default:
      primaryColor: "#1976d2"
      secondaryColor: "#ff9800"
      light:
        backgroundColor: "#f5f5f5"
        surfaceColor: "#ffffff"
        textColor: "#333333"
        cardBackground: "#ffffff"
        borderColor: "#e0e0e0"
      dark:
        backgroundColor: "#121212"
        surfaceColor: "#1e1e1e"
        textColor: "#ffffff"
        cardBackground: "#2d2d2d"
        borderColor: "#404040"
    
    # Temas disponibles para DevOps Dashboard
    availableThemes:
      - id: "devops-terminal"
        name: "DevOps Terminal"
        description: "Tema oscuro inspirado en terminales para DevOps"
        type: "dark"
        colors:
          primary: "#00d9ff"
          secondary: "#ff6b35"
          background: "#0a0a0a"
          surface: "#1a1a2e"
          text: "#eee6e6"
          card: "#16213e"
          border: "#0f3460"
          accent: "#00ff88"
          success: "#00ff88"
          warning: "#ffaa00"
          error: "#ff3333"
        category: "dashboard-specific"
        
      - id: "devops-matrix"
        name: "DevOps Matrix"
        description: "Tema verde matrix para operaciones DevOps"
        type: "dark"
        colors:
          primary: "#00ff41"
          secondary: "#ff0080"
          background: "#001100"
          surface: "#003300"
          text: "#00ff41"
          card: "#002200"
          border: "#004400"
          accent: "#00ccff"
          success: "#00ff41"
          warning: "#ffff00"
          error: "#ff0000"
        category: "dashboard-specific"
        
      - id: "devops-classic-light"
        name: "DevOps Classic Light"
        description: "Tema claro cl치sico para DevOps"
        type: "light"
        colors:
          primary: "#1976d2"
          secondary: "#ff9800"
          background: "#f5f5f5"
          surface: "#ffffff"
          text: "#333333"
          card: "#ffffff"
          border: "#e0e0e0"
          accent: "#00bcd4"
          success: "#4caf50"
          warning: "#ff9800"
          error: "#f44336"
        category: "dashboard-specific"
    
    # Configuraci칩n global
    errorColor: "#f44336"
    warningColor: "#ff9800"
    successColor: "#4caf50"
    cardElevation: 2
    borderRadius: 8
    fontFamily: "Roboto, sans-serif"
    
    # Configuraci칩n de selector de temas
    themeSelector:
      enabled: true
      allowUserCustomization: true
      autoSwitchByDashboard: true
      position: "dashboard-header" # "sidebar", "dashboard-header", "preferences"

  branding:
    companyName: "British Airways"
    companyLogo: "/static/ba-logo.png"
    motto: "To fly. To serve. To deploy."
    colors:
      primary: "#1976d2"
      accent: "#ff9800"

  content:
    welcome:
      title: "DevOps Command Center"
      message: |
        游 **DevOps Operations Hub**

        Monitor deployments, manage infrastructure, and ensure reliable service delivery across all BA environments.

        **Current Focus**: CI/CD pipeline optimization and service reliability.

    quickActions:
      - title: "Deploy Service"
        icon: "游"
        url: "/create"
        description: "Deploy new service"
      - title: "Deployments"
        icon: "游늵"
        url: "/catalog?filters=tag:deployment"
        description: "View deployments"
      - title: "CI/CD Pipelines"
        icon: "游댢"
        url: "/catalog?filters=tag:pipeline"
        description: "Manage pipelines"
      - title: "Monitoring"
        icon: "游늳"
        url: "/catalog?filters=tag:monitoring"
        description: "System monitoring"

  notifications:
    enabled: true
    channels:
      slack:
        webhook: "https://hooks.slack.com/services/..."
        channel: "#ba-devops-alerts"
      email:
        smtp: "smtp.ba.com"
        recipients: ["devops-team@ba.com"]
    alertThresholds:
      systemHealth: 85
      costBudget: 80
      securityAlerts: 1