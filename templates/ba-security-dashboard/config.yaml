apiVersion: backstage.io/v1beta1
kind: DashboardConfig
metadata:
  name: ba-security-dashboard
  title: BA Security Operations Center
  subtitle: Security Monitoring and Compliance
  version: "1.0.0"
  author: "British Airways Security Team"
  
spec:
  widgets:
    # Core security widgets - DISABLED until real API available
    security:
      enabled: false
      reason: "No real security API available - showing catalog and GitHub only"
      refreshInterval: 60000
      alertThreshold: "medium"
      title: "Security Alerts Dashboard"
      showCritical: true
      showMedium: true
      showLow: false
      
    systemHealth:
      enabled: false
      reason: "No real health API available"
      refreshInterval: 30000
      title: "Security System Status"
      securityFocus: true
      
    catalog:
      enabled: true
      refreshInterval: 300000
      maxServices: 8
      title: "Security-Critical Services"
      securityFocus: true
      filters:
        tags: ["security", "compliance", "auth", "encryption", "monitoring", "audit"]
        kinds: ["Component", "API", "Resource"]
        types: ["service", "library", "tool"]
        labels:
          - "security.ba.com/critical"
          - "compliance.ba.com/required"
      displayOptions:
        showSecurityMetrics: true
        showComplianceStatus: true
        showVulnerabilities: true
        hideNonSecurityServices: true
      
    worldClock:
      enabled: true
      refreshInterval: 1000
      title: "Global Security Operations"
      timezones:
        - name: "London SOC"
          timezone: "Europe/London"
          flag: "ðŸ‡¬ðŸ‡§"
        - name: "Singapore SOC"
          timezone: "Asia/Singapore"
          flag: "ðŸ‡¸ðŸ‡¬"
        - name: "New York SOC"
          timezone: "America/New_York"
          flag: "ðŸ‡ºðŸ‡¸"
        - name: "Sydney SOC"
          timezone: "Australia/Sydney"
          flag: "ðŸ‡¦ðŸ‡º"
          
    # Security-focused GitHub monitoring
    github:
      enabled: true
      refreshInterval: 180000
      maxEvents: 8
      title: "Security Repository Activity"
      dynamicRepos: true
      owner: "Portfolio-jaime"
      filters:
        keywords: ["security", "compliance", "audit", "scan", "vulnerability", "cve", "sast", "dast", "secrets", "auth"]
        topics: ["security", "compliance", "scanning", "monitoring", "vulnerability-scanner", "security-tools"]
        exclude: ["archived", "private"]
        sortBy: "updated"
        maxRepos: 6
        securityFocused: true
        
    # Disabled non-security widgets
    flightOps:
      enabled: false
      
    costDashboard:
      enabled: false
      
  layout:
    grid:
      columns: 12
      spacing: 2  # Tighter spacing for security dashboard
    positions:
      search: { xs: 12 }
      welcome: { xs: 12, md: 8 }
      worldClock: { xs: 12, md: 4 }
      security: { xs: 12 }
      systemHealth: { xs: 12, md: 8 }
      github: { xs: 12, md: 4 }
      catalog: { xs: 12 }
      
  theme:
    primaryColor: "#d32f2f"      # Red for security/alerts
    secondaryColor: "#ff9800"    # Orange for warnings
    backgroundColor: "#fafafa"   # Light background for readability
    cardElevation: 3             # Higher elevation for security importance
    borderRadius: 6
    
  branding:
    companyName: "British Airways Security Operations"
    companyLogo: "/ba-security-logo.png"
    motto: "Vigilance in every byte, security in every flight"
    
  notifications:
    enabled: true
    urgentMode: true
    channels:
      - slack
      - email
      - pagerduty
    alertTypes:
      - security_incident
      - compliance_violation
      - system_breach
      - vulnerability_detected
      
  security:
    classification: "restricted"
    accessControl:
      requireMFA: true
      allowedRoles:
        - "security-team"
        - "soc-analyst"
        - "security-manager"