apiVersion: backstage.io/v1beta1
kind: DashboardConfig
metadata:
  name: ba-platform-dashboard
  title: "BA Platform Engineering Hub"
  subtitle: "Infrastructure and platform services monitoring"
  version: "1.0.0"
  namespace: ba-platform
  author: "British Airways Platform Team"
  annotations:
    backstage.io/managed-by-location: url:https://github.com/Portfolio-jaime/backstage-dashboard-templates/blob/main/templates/ba-platform-dashboard/config.yaml
    backstage.io/created-by: platform-team@ba.com
    backstage.io/last-updated: "2025-01-15T10:30:00Z"
  
spec:
  # Team-specific information
  team:
    name: platform-team
    displayName: "Platform Engineering Team"
    description: "Responsible for infrastructure, platform architecture, and system reliability engineering"
    lead: "platform.lead@ba.com"
    members:
      - name: "Sarah Mitchell"
        role: "Senior Platform Architect"
        email: "sarah.mitchell@ba.com"
        expertise: ["Kubernetes", "Cloud Architecture", "Infrastructure", "Monitoring"]
        status: "online"
        timezone: "GMT (UTC+0)"
      - name: "David Chen"
        role: "Infrastructure Engineer"
        email: "david.chen@ba.com"
        expertise: ["Terraform", "AWS", "Networking", "Security"]
        status: "online"
        timezone: "GMT (UTC+0)"
      - name: "Maria Rodriguez"
        role: "Site Reliability Engineer"
        email: "maria.rodriguez@ba.com"
        expertise: ["Prometheus", "Grafana", "Incident Response", "Automation"]
        status: "away"
        timezone: "CET (UTC+1)"
    responsibilities:
      - "Infrastructure architecture and design"
      - "Platform scalability and performance"
      - "System reliability and availability"
      - "Performance optimization and monitoring"
      - "Disaster recovery and backup strategies"
      - "Cloud infrastructure management"
    tools:
      - "Kubernetes"
      - "Terraform"
      - "Prometheus"
      - "Grafana"
      - "Helm"
      - "Istio"
      - "ArgoCD"
      - "Vault"
    metrics:
      platformAvailability:
        value: "99.97%"
        target: "> 99.95%"
        trend: "stable"
        percentage: 99
        status: "excellent"
      infrastructureCost:
        value: "â‚¬1.2M/month"
        target: "< â‚¬1.5M/month"
        trend: "down"
        percentage: 80
        status: "good"
      resourceUtilization:
        value: "78%"
        target: "70-85%"
        trend: "stable"
        percentage: 85
        status: "excellent"
      incidentResolution:
        value: "23 minutes"
        target: "< 30 minutes"
        trend: "down"
        percentage: 92
        status: "excellent"
    slackChannel: "#platform-engineering"
    confluence: "https://ba.atlassian.net/wiki/spaces/PLATFORM"
    oncallRotation:
      current: "sarah.mitchell@ba.com"
      schedule: "Weekly rotation"
  widgets:
    # Core platform monitoring
    systemHealth:
      enabled: true
      refreshInterval: 30000
      title: "Platform Health Status"
      
    catalog:
      enabled: true
      refreshInterval: 120000
      maxServices: 12
      title: "Infrastructure & Platform Services"
      filters:
        tags: ["infrastructure", "platform", "kubernetes", "monitoring", "networking", "storage"]
        kinds: ["Component", "API", "Resource", "System"]
        types: ["service", "library", "tool", "infrastructure"]
        labels:
          - "platform.ba.com/managed"
          - "infrastructure.ba.com/critical"
      displayOptions:
        showPlatformMetrics: true
        showResourceUsage: true
        showHealthStatus: true
        hideApplicationServices: true
      
    # No world clock in specialized dashboards  
    worldClock:
      enabled: false
      reason: "World clock only shown on main dashboard"
          
    # Platform-specific widgets
    github:
      enabled: true
      refreshInterval: 300000
      maxEvents: 12
      title: "Infrastructure & Platform Activity"
      dynamicRepos: true
      owner: "Portfolio-jaime"
      filters:
        keywords: ["platform", "infrastructure", "k8s", "kubernetes", "helm", "istio", "ingress", "cluster", "networking", "storage", "database", "redis", "postgres", "monitoring", "observability", "service-mesh", "crossplane", "operator"]
        topics: ["platform-engineering", "kubernetes", "infrastructure", "helm", "istio", "service-mesh", "observability", "cloud-native", "microservices-platform", "operators"]
        exclude: ["archived", "private"]
        sortBy: "updated"
        maxRepos: 10
        platformFocused: true
        
    # Disabled simulated widgets - Platform dashboard focuses on real infrastructure
    flightOps:
      enabled: false
      reason: "Not relevant for platform engineering"
      
    costDashboard:
      enabled: false
      reason: "No real cost API available"
      
    security:
      enabled: false
      reason: "Use dedicated Security dashboard"
      
  layout:
    grid:
      columns: 12
      spacing: 3
    positions:
      search: { xs: 12 }
      welcome: { xs: 12, md: 8 }
      worldClock: { xs: 12, md: 4 }
      systemHealth: { xs: 12 }
      catalog: { xs: 12, md: 8 }
      github: { xs: 12, md: 4 }
      costDashboard: { xs: 12 }
      
  theme:
    primaryColor: "#2e7d32"    # Green for platform/infrastructure
    secondaryColor: "#ff6f00"   # Orange accent
    # Light theme colors
    light:
      backgroundColor: "#f5f5f5"
      surfaceColor: "#ffffff"
      textColor: "#333333"
      cardBackground: "#ffffff"
      borderColor: "#e0e0e0"
    # Dark theme colors  
    dark:
      backgroundColor: "#0d1b0f"  # Dark green tint
      surfaceColor: "#1a2e1d"
      textColor: "#ffffff"
      cardBackground: "#2d4a32"
      borderColor: "#4a7c59"
    cardElevation: 2
    borderRadius: 8
    
  branding:
    companyName: "British Airways Platform Engineering"
    companyLogo: "/static/ba-platform-logo.png"
    motto: "Building the foundation for digital excellence"
    colors:
      primary: "#2e7d32"
      accent: "#ff6f00"

  content:
    welcome:
      title: "Welcome to BA Platform Engineering Hub!"
      message: |
        âš™ï¸ Welcome to BA Platform Engineering Hub!
        
        Your central command center for infrastructure and platform services that power BA's digital ecosystem.
        
        ðŸ—ï¸ PLATFORM FOUNDATIONS
        â€¢ Kubernetes clusters and orchestration
        â€¢ Service mesh and networking infrastructure  
        â€¢ Database and storage platforms
        â€¢ Monitoring and observability stack
        â€¢ Developer platform and tooling
        
        ðŸ”§ INFRASTRUCTURE SERVICES
        â€¢ Multi-cloud infrastructure management
        â€¢ Container orchestration and scaling
        â€¢ Service discovery and load balancing
        â€¢ Data platform and messaging systems
        â€¢ Security and compliance frameworks
        
        ðŸ“Š PLATFORM OPERATIONS
        â€¢ Infrastructure health and performance monitoring
        â€¢ Capacity planning and resource optimization  
        â€¢ Platform reliability and SLA management
        â€¢ Developer experience and self-service tools
        
        ðŸŒ GLOBAL PLATFORM
        Managing infrastructure across multiple regions to ensure high availability,
        low latency, and compliance with local regulations.
        
        ---
        "Building the foundation for digital excellence" - BA Platform Team

    quickActions:
      - title: "Kubernetes Console"
        icon: "â˜¸ï¸"
        url: "/catalog?filters=tag:kubernetes"
        description: "Manage K8s clusters"
      - title: "Infrastructure Catalog"
        icon: "ðŸ—ï¸"
        url: "/catalog?filters=kind:resource"
        description: "Browse infrastructure"
      - title: "Platform Metrics"
        icon: "ðŸ“Š"
        url: "/catalog?filters=tag:monitoring"
        description: "Platform performance"
      - title: "Database Services"
        icon: "ðŸ—„ï¸"
        url: "/catalog?filters=tag:database"
        description: "Manage databases"
    
  notifications:
    enabled: true
    channels:
      - slack
      - email
    alertTypes:
      - system_health
      - cost_anomaly
      - deployment_failure